<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Soundtrack â€“ Profile</title>
<link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
<div class="profile-container">
  <h2>Your Profile</h2>
  <p><strong>First Name:</strong> <span id="firstName"></span></p>
  <p><strong>Last Name:</strong> <span id="lastName"></span></p>
  <p><strong>Email:</strong> <span id="email"></span></p>
  <p><strong>Mobile:</strong> <span id="phone"></span></p>
  <p><strong>Date of Birth:</strong> <span id="dob"></span></p>
  <p><strong>Gender:</strong> <span id="gender"></span></p>
</div>

<script src="/assets/js/firebase.js"></script>
<script src="/assets/js/security.js"></script>
<script>
  protectPage(); // only logged-in user

  const user = firebase.auth().currentUser;
  if(user) {
    const uid = user.uid;
    firebase.firestore().collection("users").doc(uid).get().then(doc => {
      const data = doc.data();
      document.getElementById("firstName").textContent = data.firstName;
      document.getElementById("lastName").textContent = data.lastName;
      document.getElementById("email").textContent = data.email;
      document.getElementById("phone").textContent = data.phone;
      document.getElementById("dob").textContent = data.dob;
      document.getElementById("gender").textContent = data.gender;
    });
  }
</script>
</body>
</html>
